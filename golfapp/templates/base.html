<!DOCTYPE html>
<html lang="en" class="wa-{{ theme }}">
  <head>
    <!-- Required meta tags -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="manifest" href="/static/manifest.webmanifest" />

    <!-- Shoelace components -->
    <link
      rel="stylesheet"
      href="https://early.webawesome.com/webawesome@3.0.0-alpha.12/dist/styles/themes/default.css"
    />
    <link
      rel="stylesheet"
      href="https://early.webawesome.com/webawesome@3.0.0-alpha.12/dist/styles/webawesome.css"
    />
    <script
      type="module"
      src="https://early.webawesome.com/webawesome@3.0.0-alpha.12/dist/webawesome.loader.js"
    ></script>

    <link href="/static/css/main.css" rel="stylesheet" />
    <link href="/static/css/light.css" rel="stylesheet" />
    <link href="/static/css/dark.css" rel="stylesheet" />

    <link
      rel="icon"
      type="image/png"
      href="{% block icon %}/static/images/golf.png{% endblock icon %}"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <title>{% block title %}{% endblock title %}</title>
    <script src="/static/js/fetch.js"></script>
    <script type="module" src="/static/js/nb-theme-selector.mjs"></script>
  </head>

  <script>
    const THEME_URL = "{{ url_for('theme_bp.set_theme') }}";
    const THEME = "{{ theme }}";
  </script>

  <body>
    <wa-page mobile-breakpoint="920"
      ><header slot="header">
        <div class="wa-split">
          <div class="wa-cluster">
            <wa-icon-button
              name="bars"
              label="Menu"
              data-toggle-nav
            ></wa-icon-button>
            <a class="wa-heading-l">NB Golf</a>
            <a
              class="wa-desktop-only wa-heading-m"
              href="{{ url_for('courseranking_bp.course_rankings') }}"
              >Course Rankings</a
            >
            <a
              class="wa-desktop-only wa-heading-m"
              href="{{ url_for('strokes_bp.calculate_strokes') }}"
              >Calculate Strokes</a
            >
            <a
              class="wa-desktop-only wa-heading-m"
              href="{{ url_for('viewplayers_bp.view_players') }}"
              >View Players</a
            >
          </div>
          <div class="wa-cluster wa-desktop-only">
            <nb-theme-selector></nb-theme-selector>
            {% if current_user.is_authenticated %}
            <wa-dropdown
              ><wa-button
                id="user-button"
                appearance="plain"
                slot="trigger"
                caret
                >{{ current_user.username }}</wa-button
              ><wa-menu id="user-dropdown-selector">
                {% if current_user.is_authenticated and current_user.id == 3 or
                current_user.id == 11 %}<wa-menu-item
                  ><a href="{{ url_for('admin_bp.hijack') }}"
                    >Hijack Handicap</a
                  ></wa-menu-item
                ><wa-menu-item
                  ><a href="{{ url_for('admin_bp.edit_courses') }}"
                    >Edit Courses</a
                  ></wa-menu-item
                ><wa-menu-item
                  ><a href="{{ url_for('admin_bp.subscribers') }}"
                    >Subscribers</a
                  ></wa-menu-item
                >{% endif %}
                <wa-menu-item
                  ><a href="{{ url_for('profile_bp.profile') }}"
                    >Profile</a
                  ></wa-menu-item
                ><wa-menu-item
                  ><a href="{{ url_for('auth_bp.logout') }}"
                    >Logout</a
                  ></wa-menu-item
                >
              </wa-menu></wa-dropdown
            >
            {% else %}
            <a href="{{ url_for('auth_bp.login') }}">Login</a>
            {% endif %}
          </div>
        </div>
      </header>
      <nav slot="navigation" class="wa-mobile-only">
        <a class="wa-heading-l">NB Golf</a>
        <a
          class="wa-heading-m"
          href="{{ url_for('courseranking_bp.course_rankings') }}"
          >Course Rankings</a
        >
        <a
          class="wa-heading-m"
          href="{{ url_for('strokes_bp.calculate_strokes') }}"
          >Calculate Strokes</a
        >
        <a
          class="wa-heading-m"
          href="{{ url_for('viewplayers_bp.view_players') }}"
          >View Players</a
        >

        <nb-theme-selector></nb-theme-selector>
        {% if current_user.is_authenticated %}
        <wa-dropdown
          ><wa-button id="user-button" appearance="plain" slot="trigger" caret
            >{{ current_user.username }}</wa-button
          ><wa-menu id="user-dropdown-selector">
            {% if current_user.is_authenticated and current_user.id == 3 or
            current_user.id == 11 %}<wa-menu-item
              ><a href="{{ url_for('admin_bp.hijack') }}"
                >Hijack Handicap</a
              ></wa-menu-item
            ><wa-menu-item
              ><a href="{{ url_for('admin_bp.edit_courses') }}"
                >Edit Courses</a
              ></wa-menu-item
            ><wa-menu-item
              ><a href="{{ url_for('admin_bp.subscribers') }}"
                >Subscribers</a
              ></wa-menu-item
            >{% endif %}
            <wa-menu-item
              ><a href="{{ url_for('profile_bp.profile') }}"
                >Profile</a
              ></wa-menu-item
            ><wa-menu-item
              ><a href="{{ url_for('auth_bp.logout') }}"
                >Logout</a
              ></wa-menu-item
            >
          </wa-menu></wa-dropdown
        >
        {% else %}
        <a href="{{ url_for('auth_bp.login') }}">Login</a>
        {% endif %}
      </nav>
      <main>{% block content %}{% endblock content %}</main></wa-page
    >

    <div class="container py-5 mb-5 h-100">
      {% with messages = get_flashed_messages(with_categories=true) %}
      <div id="alerts" class="container d-flex justify-content-center">
        {% if messages %} {% for category, message in messages %}
        <sl-alert variant="primary" duration="5000" open closable>
          {{ message }}
        </sl-alert>
        {% endfor %} {% endif %}
      </div>
      {% endwith %}
    </div>
  </body>
</html>
